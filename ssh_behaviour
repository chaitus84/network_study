How SSH works: 

https://goteleport.com/blog/ssh-handshake-explained/

Protocol exchange

Key exchange

Deriving symmetric key

Client authenticating a server. 

Server authenticating a client.

known hosts file will contain the servers that are allowed by the client. 

authorized hosts file contain the list of clients that are trusted by client. 

SSH server will send a challenge to the client for proof of posession. 




